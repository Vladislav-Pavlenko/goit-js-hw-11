{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImage(searchValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '43757343-ba5778b701f459784bea5ede7';\n  const params = `?key=${API_KEY}&q=${searchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(`${BASE_URL}${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function renderMarkup(imgArray, gallery) {\n  const galleryMarkup = imgArray.reduce((acc, img) => {\n    return (acc += `<div class=\"gallery-item\">\n          <a href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\"  width=\"360\"/></a>\n          <div class=\"info\">\n              <p>Likes <span></span>${img.likes}</span></p>\n              <p>Views <span></span>${img.views}</span></p>\n              <p>Comments <span></span>${img.comments}</span></p>\n              <p>Downloads <span></span>${img.downloads}</span></p>\n          </div>\n              </div>`);\n  }, '');\n  gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n}\n","import { fetchImage } from './js/pixabay-api';\nimport { renderMarkup } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  formEL: document.querySelector('#form'),\n  inputEL: document.querySelector('#image-input'),\n  galleryEL: document.querySelector('#gallery'),\n  gallery: document.querySelector('.gallery'),\n};\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  refs.galleryEL.innerHTML = '<span class=\"loader\"></span>';\n  const searchValue = refs.inputEL.value.trim();\n  if (searchValue === '') {\n    return iziToast.show({\n      title: '⨻',\n      titleSize: '20px',\n      message: 'Introduction field please enter the value to search',\n      color: 'white',\n      backgroundColor: 'red',\n      position: 'topRight',\n    });\n  }\n\n  fetchImage(searchValue).then(data => {\n    if (data.totalHits === 0) {\n      return iziToast.show({\n        title: '⨻',\n        titleSize: '20px',\n        message:\n          '\"Sorry, there are no images matching your search query. Please try again!\"',\n        color: 'white',\n        backgroundColor: 'red',\n        position: 'topRight',\n      });\n    }\n    refs.galleryEL.innerHTML = '';\n    renderMarkup(data.hits, refs.galleryEL);\n    let gallery = new SimpleLightbox('#gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    gallery.refresh();\n  });\n  refs.formEL.reset();\n}\n\nrefs.formEL.addEventListener('submit', onFormSubmit);\n"],"names":["fetchImage","searchValue","BASE_URL","params","response","renderMarkup","imgArray","gallery","galleryMarkup","acc","img","refs","onFormSubmit","event","iziToast","data","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAWC,EAAa,CACtC,MAAMC,EAAW,2BAEXC,EAAS,6CAAqBF,CAAW,2DAE/C,OAAO,MAAM,GAAGC,CAAQ,GAAGC,CAAM,EAAE,EAAE,KAAKC,GAAY,CACpD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCXO,SAASC,EAAaC,EAAUC,EAAS,CAC9C,MAAMC,EAAgBF,EAAS,OAAO,CAACG,EAAKC,IAClCD,GAAO;AAAA,qBACEC,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,sCAEjDA,EAAI,KAAK;AAAA,sCACTA,EAAI,KAAK;AAAA,yCACNA,EAAI,QAAQ;AAAA,0CACXA,EAAI,SAAS;AAAA;AAAA,sBAGlD,EAAE,EACLH,EAAQ,mBAAmB,YAAaC,CAAa,CACvD,CCNA,MAAMG,EAAO,CACX,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,UAAU,EAC5C,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAK,UAAU,UAAY,+BAC3B,MAAMV,EAAcU,EAAK,QAAQ,MAAM,KAAI,EAC3C,GAAIV,IAAgB,GAClB,OAAOa,EAAS,KAAK,CACnB,MAAO,IACP,UAAW,OACX,QAAS,sDACT,MAAO,QACP,gBAAiB,MACjB,SAAU,UAChB,CAAK,EAGHd,EAAWC,CAAW,EAAE,KAAKc,GAAQ,CACnC,GAAIA,EAAK,YAAc,EACrB,OAAOD,EAAS,KAAK,CACnB,MAAO,IACP,UAAW,OACX,QACE,6EACF,MAAO,QACP,gBAAiB,MACjB,SAAU,UAClB,CAAO,EAEHH,EAAK,UAAU,UAAY,GAC3BN,EAAaU,EAAK,KAAMJ,EAAK,SAAS,EACxB,IAAIK,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,EACO,QAAO,CACnB,CAAG,EACDL,EAAK,OAAO,OACd,CAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY"}